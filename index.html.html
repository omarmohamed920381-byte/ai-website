<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Vision Studio ‚Äî Photo + Chat + Styles</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="wrap">
    <header class="top glass">
      <div class="brand">
        <div class="logo">üçè</div>
        <div>
          <h1>AI Vision Studio</h1>
          <p class="muted">Upload a photo ‚Ä¢ Analyze ‚Ä¢ Ask ‚Ä¢ Generate styled images (anime, watercolor, photorealistic)</p>
        </div>
      </div>
      <div class="small muted">Set <code>OPENAI_API_KEY</code> in Vercel</div>
    </header>

    <main class="grid">
      <!-- Left: Upload & Chat -->
      <section class="card glass">
        <label class="label">Upload Photo (preview)</label>
        <input id="imageFile" type="file" accept="image/*" />
        <div id="previewWrap" class="preview"></div>

        <div class="row">
          <button id="analyzeBtn" class="primary" onclick="analyzeImage()">Analyze Photo</button>
          <button class="ghost" onclick="clearAll()">Clear</button>
        </div>

        <label class="label" style="margin-top:12px">AI Chat about the Photo</label>
        <div id="chatHistory" class="chatHistory" aria-live="polite"></div>
        <div class="row" style="margin-top:8px;">
          <input id="chatInput" placeholder="Ask a question about the photo..." />
          <button class="primary" onclick="sendChat()">Send</button>
        </div>

        <div id="analysisBox" class="result" style="margin-top:12px;">Analysis will appear here.</div>
      </section>

      <!-- Right: Image generation & styles -->
      <aside class="card glass">
        <label class="label">Generate Styled Image (from prompt)</label>
        <input id="imgPrompt" placeholder="A fantasy city at sunrise" />
        <select id="styleSelect">
          <option value="">No extra style</option>
          <option value=", anime style, vibrant colors">Anime</option>
          <option value=", watercolor painting, soft lighting">Watercolor</option>
          <option value=", photorealistic, 35mm">Photorealistic</option>
          <option value=", cyberpunk neon, ultra-detailed">Cyberpunk</option>
        </select>

        <div class="row" style="margin-top:8px;">
          <button class="primary" onclick="generateImage()">Generate</button>
          <span id="imgStatus" class="small muted" style="display:none">Generating...</span>
        </div>

        <img id="outputImg" style="width:100%; margin-top:12px; border-radius:10px; display:none" alt="generated result" />

        <label class="label" style="margin-top:14px">Quick tips</label>
        <ul class="muted">
          <li>Analyze first for better chat context.</li>
          <li>Try ‚ÄúAnime‚Äù style for stylized characters.</li>
        </ul>
      </aside>
    </main>

    <footer class="footer muted">Built for commercial use with OpenAI ‚Ä¢ Deploy to Vercel</footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
